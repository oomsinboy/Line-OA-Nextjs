(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[620],{89919:function(e,s,t){Promise.resolve().then(t.bind(t,29252))},29252:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return f}});var l=t(57437),a=t(86504),i=t(2265),n=t(38472),c=t(46797),r=t(66648),d=t(87138),x=t(19212),o=t.n(x),h=t(6920),m=t(45079);t(55055);var u=e=>{let{items:s}=e,[t,a]=(0,i.useState)([]),[n,c]=(0,i.useState)(""),[x,u]=(0,i.useState)(1),[p]=(0,i.useState)(10),[j,f]=(0,i.useState)(null);(0,i.useEffect)(()=>{a(s)},[s]);let N=t.filter(e=>e.pt_name.toLowerCase().includes(n.toLowerCase())).reverse(),w=i.useMemo(()=>null!==j?[...N].sort((e,s)=>e[j.key]<s[j.key]?"asc"===j.direction?-1:1:e[j.key]>s[j.key]?"asc"===j.direction?1:-1:0):N,[N,j]),v=x*p,g=w.slice(v-p,v),b=e=>u(e),y=Math.ceil(N.length/p),F=e=>{let s="asc";j&&j.key===e&&"asc"===j.direction&&(s="desc"),f({key:e,direction:s})},_=e=>j&&j.key===e?"asc"===j.direction?(0,l.jsx)(h.G,{icon:m.foy}):(0,l.jsx)(h.G,{icon:m.u9C}):(0,l.jsx)(h.G,{icon:m.CmM});return(0,l.jsx)("div",{className:"px-8",children:(0,l.jsx)("div",{className:"h-full w-full rounded-[15px] bg-white p-5 ",children:(0,l.jsxs)("div",{className:"min-h-[81.71dvh] flex flex-col",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-xl 2xl:text-2xl text-[#5955B3] font-semibold",children:"รายการแจ้งเตือนผู้ป่วยวันนี้"}),(0,l.jsxs)("div",{className:"text-[#705396]",children:["ทั้งหมด ",N.length," รายการ"]})]}),(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)("div",{className:"w-72",children:(0,l.jsx)("label",{className:"input input-bordered flex items-center gap-2 w-full",children:(0,l.jsx)("input",{type:"text",className:"grow",placeholder:"Search",value:n,onChange:e=>{c(e.target.value),u(1)}})})}),(0,l.jsx)(d.default,{href:"".concat("/","home/patient"),className:"relative text-white w-[160px] font-light bg-[#693092] btn btn-active mx-4",children:"Patient Page"}),(0,l.jsxs)(d.default,{href:"".concat("/","home/patient/new-patient"),className:"relative text-white w-40 font-light bg-[#AF88FF] btn  ",children:[(0,l.jsx)(r.default,{className:"absolute left-4",src:"/image/icon_plus.png",alt:"logo",width:20,height:20}),"Add New"]})]})]}),(0,l.jsx)("div",{className:"2xl:pt-3 flex-grow",children:(0,l.jsx)("div",{className:"overflow-x-auto ",children:(0,l.jsxs)("table",{className:"table ",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{className:"text-center bg-[#C0B4D9] text-base text-[#461F78]",children:[(0,l.jsxs)("th",{className:"w-[398px] cursor-pointer",onClick:()=>F("regis_date"),children:["วันที่ลงทะเบียน ",_("regis_date")]}),(0,l.jsxs)("th",{className:"w-[427px] cursor-pointer",onClick:()=>F("appointment_date"),children:["วันนัดหมายตามกำหนด ",_("appointment_date")]}),(0,l.jsxs)("th",{className:"w-[450px] cursor-pointer",onClick:()=>F("pt_name"),children:["ชื่อ-นามสกุล ",_("pt_name")]}),(0,l.jsxs)("th",{className:"w-[108px] cursor-pointer",onClick:()=>F("state"),children:["สถานะ ",_("state")]}),(0,l.jsx)("th",{children:"Action"})]})}),(0,l.jsx)("tbody",{className:"text-center text-base text-[#705396]",children:g.map((e,s)=>(0,l.jsxs)("tr",{className:"border-none ".concat((s+1)%2==0?"bg-[#F4F4FE]":""),children:[(0,l.jsx)("td",{className:"w-[398px]",children:o().utc(e.regis_date).add(543,"years").format("DD-MM-YYYY HH:mm:ss")}),(0,l.jsxs)("td",{className:"w-[427px]",children:[o()(e.appointment_date).add(543,"years").format("DD-MM-YYYY")," | ",e.appointment_time]}),(0,l.jsx)("td",{className:"w-[450px] break-words",children:e.pt_name}),(0,l.jsx)("td",{children:e.state}),(0,l.jsx)("td",{className:" justify-center flex",children:(0,l.jsx)(d.default,{href:"/home/patient/view-patient?id=".concat(e.visit_id),children:(0,l.jsx)(r.default,{src:"/image/icon_view.png",alt:"logo",width:30,height:30})})})]},s))})]})})}),(0,l.jsxs)("div",{className:"pagination mt-3 2xl:mt-4 select-none flex justify-end items-center",children:[(0,l.jsx)("button",{className:"px-3 py-1 mx-1 rounded-full bg-white text-[#461F78] cursor-pointer",onClick:()=>b(x-1),disabled:1===x,children:"<"}),(()=>{let e=[];if(y<=4)for(let s=1;s<=y;s++)e.push((0,l.jsx)("li",{className:"list-none cursor-pointer px-3 py-1 mx-1 rounded-full ".concat(x===s?"bg-[#AF88FF] text-white":"bg-white text-[#461F78]"),onClick:()=>b(s),children:s},s));else{e.push((0,l.jsx)("li",{className:"list-none cursor-pointer px-3 py-1 mx-1 rounded-full ".concat(1===x?"bg-[#AF88FF] text-white":"bg-white text-[#461F78]"),onClick:()=>b(1),children:"1"},1)),x>3&&e.push((0,l.jsx)("li",{className:"list-none px-3 py-1 mx-1",children:"..."},"start-ellipsis"));let s=Math.max(2,x-1),t=Math.min(y-1,x+1);for(let a=s;a<=t;a++)e.push((0,l.jsx)("li",{className:"list-none cursor-pointer px-3 py-1 mx-1 rounded-full ".concat(x===a?"bg-[#AF88FF] text-white":"bg-white text-[#461F78]"),onClick:()=>b(a),children:a},a));x<y-2&&e.push((0,l.jsx)("li",{className:"list-none px-3 py-1 mx-1",children:"..."},"end-ellipsis")),e.push((0,l.jsx)("li",{className:"list-none cursor-pointer px-3 py-1 mx-1 rounded-full ".concat(x===y?"bg-[#AF88FF] text-white":"bg-white text-[#461F78]"),onClick:()=>b(y),children:y},y))}return e})(),(0,l.jsx)("button",{className:"px-3 py-1 mx-1 rounded-full bg-white text-[#461F78] cursor-pointer",onClick:()=>b(x+1),disabled:x===y,children:">"})]})]})})})},p=t(44785),j=t(16463),f=function(){let[e,s]=(0,i.useState)([]),[t,r]=(0,i.useState)(!0),d=(0,j.useRouter)();return((0,i.useEffect)(()=>{p.Z.get("__user")||d.push("/")},[d]),(0,i.useEffect)(()=>{(async()=>{try{let e=await n.Z.get("https://colonoscopytuh.com/backend/api/daily_noti/");s(e.data)}catch(e){console.error("Error fetching data:",e)}finally{r(!1)}})()},[]),t)?(0,l.jsxs)("div",{className:"min-h-screen",children:[(0,l.jsx)(a.Z,{}),(0,l.jsx)(c.o,{})]}):(0,l.jsxs)("div",{className:"min-h-screen",children:[(0,l.jsx)(a.Z,{}),e&&(0,l.jsx)(u,{items:e})]})}},86504:function(e,s,t){"use strict";var l=t(57437);t(2265);var a=t(66648),i=t(87138),n=t(64379),c=t.n(n),r=t(16463),d=t(44785);s.Z=()=>{let e=(0,r.useRouter)(),s=(0,r.usePathname)();return(0,l.jsx)("div",{className:"p-8 pt-3 2xl:pt-8 pb-2",children:(0,l.jsxs)("div",{className:" rounded-[15px] bg-white px-2 py-1 flex justify-between",children:[(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)(a.default,{src:"/image/logo_colonoscopy_small.png",alt:"logo",width:64,height:64,className:"2xl:w-20"}),(0,l.jsx)("div",{className:"flex items-center text-xl text-[#9b88c0] font-medium select-none ",children:(0,l.jsx)("h1",{children:"COLONOSCOPY TUH"})}),(0,l.jsxs)(i.default,{href:"".concat("/","home"),className:"ml-10 text-[#461F78] flex items-center text-xl font-bold select-none",children:[(0,l.jsx)("div",{children:(0,l.jsx)(a.default,{src:"/image/icon_home.png",alt:"logo",width:30,height:30})}),(0,l.jsx)("h1",{className:"mx-2",children:"หน้าหลัก"})]}),(0,l.jsxs)(i.default,{href:"#",onClick:t=>{t.preventDefault(),"/home/"===s?e.push("/home/"):e.back()},className:"mx-5 text-[#461F78] flex items-center text-xl font-bold select-none",children:[(0,l.jsx)("div",{children:(0,l.jsx)(a.default,{src:"/image/icon_back.png",alt:"logo",width:30,height:30})}),(0,l.jsx)("h1",{className:"mx-2",children:"ย้อนกลับ"})]})]}),(0,l.jsx)("div",{className:"flex",children:(0,l.jsxs)("div",{onClick:e=>{e.preventDefault(),c().fire({title:"ยืนยันการออกจากระบบ",text:"คุณกำลังออกจากระบบ ต้องการดำเนินการต่อหรือไม่ ?",icon:"warning",showCancelButton:!0,cancelButtonText:"ยกเลิก",confirmButtonText:"ยืนยัน",reverseButtons:!1,customClass:{icon:"custom-swal2-warning"}}).then(e=>{e.isConfirmed&&c().fire({title:"ออกจากระบบ!",text:"คุณได้ออกจากระบบแล้ว",icon:"success",confirmButtonText:"ปิด"}).then(()=>{d.Z.remove("__user"),window.location.href="".concat("/")})})},className:"cursor-pointer mx-16 text-[#461F78] flex items-center text-xl font-bold select-none",children:[(0,l.jsx)("div",{children:(0,l.jsx)(a.default,{src:"/image/icon_out.png",alt:"logo",width:30,height:30})}),(0,l.jsx)("h1",{className:"mx-2",children:"ออกจากระบบ"})]})})]})})}},46797:function(e,s,t){"use strict";t.d(s,{o:function(){return a}});var l=t(57437);s.Z=()=>(0,l.jsx)("div",{className:"px-8",children:(0,l.jsx)("div",{className:"h-full w-full rounded-[15px] bg-white p-5 flex justify-center",children:(0,l.jsxs)("div",{className:"min-h-[81.71dvh] w-[70%] flex flex-col",children:[(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"text-2xl text-[#5955B3] font-semibold",children:"เพิ่มผู้ป่วยใหม่"})}),(0,l.jsxs)("form",{action:"",className:" mt-2",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("div",{className:"w-1/2 pr-4",children:(0,l.jsxs)("div",{className:"my-2",children:[(0,l.jsx)("span",{className:"text-[#705396]",children:"ชื่อ"}),(0,l.jsx)("label",{className:"input input-bordered flex items-center gap-2 w-full",children:(0,l.jsx)("input",{type:"text",className:"grow text-[#705396]",readOnly:!0})})]})}),(0,l.jsx)("div",{className:"w-1/2 pl-4",children:(0,l.jsxs)("div",{className:"my-2",children:[(0,l.jsx)("span",{className:"text-[#705396]",children:"นามสกุล"}),(0,l.jsx)("label",{className:"input input-bordered flex items-center gap-2 w-full",children:(0,l.jsx)("input",{type:"text",className:"grow text-[#705396]",readOnly:!0})})]})})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("div",{className:"w-1/2 pr-4",children:(0,l.jsxs)("div",{className:"my-2",children:[(0,l.jsx)("span",{className:"text-[#705396]",children:"เลขที่บัตรประจำตัวประชาชน"}),(0,l.jsx)("label",{className:"input input-bordered flex items-center gap-2 w-full",children:(0,l.jsx)("input",{type:"text",className:"grow text-[#705396]",maxLength:13,pattern:"\\d{13}",readOnly:!0})})]})}),(0,l.jsx)("div",{className:"w-1/2 pl-4",children:(0,l.jsxs)("div",{className:"my-2",children:[(0,l.jsx)("span",{className:"text-[#705396]",children:"วันเดือนปีเกิด"}),(0,l.jsx)("label",{className:"input input-bordered flex items-center gap-2 w-full",children:(0,l.jsx)("input",{type:"date",className:"grow text-[#705396]",readOnly:!0})})]})})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("div",{className:"w-1/2 pr-4",children:(0,l.jsxs)("div",{className:"my-2",children:[(0,l.jsx)("span",{className:"text-[#705396]",children:"วันที่ลงทะเบียน"}),(0,l.jsx)("label",{className:" bg-[#F8F5FB] input input-bordered flex items-center gap-2 w-full",children:(0,l.jsx)("input",{type:"text",className:"grow pointer-events-none text-[#705396]",readOnly:!0})})]})}),(0,l.jsx)("div",{className:"w-1/2 pl-4",children:(0,l.jsxs)("div",{className:"my-2",children:[(0,l.jsx)("span",{className:"text-[#705396]",children:"วันนัดหมาย"}),(0,l.jsx)("label",{className:"input input-bordered flex items-center gap-2 w-full",children:(0,l.jsx)("input",{type:"datetime-local",className:"grow text-[#705396]",readOnly:!0})})]})})]})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsxs)("div",{className:"my-2 w-1/2 pr-4",children:[(0,l.jsx)("div",{className:"flex",children:(0,l.jsx)("span",{className:"text-[#705396]",children:"เลือกยาที่ควรหยุดรับประทาน"})}),(0,l.jsx)("div",{className:"rounded bg-[#E8DBF5] min-h-[49dvh] p-3",children:(0,l.jsx)("span",{className:"text-[#705396]",children:" รายการที่เลือก 0 รายการ"})})]}),(0,l.jsx)("div",{className:"w-1/2 pl-4 flex justify-center items-center",children:(0,l.jsxs)("div",{className:"text-center w-1/2",children:[(0,l.jsx)("div",{className:"text-[#461F78] text-3xl font-semibold my-2",children:"OTP"}),(0,l.jsx)("div",{className:"text-[#705396] my-2",children:"รหัสนี้ใช้สำหรับลงทะเบียนผู้ใช้งาน Line OA"}),(0,l.jsx)("div",{className:"p-10 bg-[#F8F5FB] my-2",children:(0,l.jsx)("span",{className:"text-[#7F57D0] text-4xl tracking-widest"})})]})})]})]})})});let a=()=>(0,l.jsx)("div",{className:"px-8",children:(0,l.jsx)("div",{className:"h-full w-full rounded-[15px] bg-white p-5 ",children:(0,l.jsx)("div",{className:"min-h-[81.71dvh] flex flex-col"})})})}},function(e){e.O(0,[461,990,676,236,648,495,821,971,23,744],function(){return e(e.s=89919)}),_N_E=e.O()}]);